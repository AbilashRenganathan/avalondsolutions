<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Pricing Payment - AvalonDSolutions</title>
  <meta name="description" content="Pay for your selected plan.">
  <meta name="keywords" content="Pricing, Payment, AvalonDSolutions">
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/css/main.css" rel="stylesheet">
  <style>
    .payment-section {
      background: var(--surface-color);
      border-radius: 12px;
      box-shadow: 0 2px 16px rgba(0,0,0,0.06);
      padding: 2rem;
      margin-top: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .paypal-btn-container {
      margin-top: 2rem;
      margin-bottom: 2rem;
    }
    .btn-back {
      margin-bottom: 1rem;
    }
    .plan-badge {
      font-size: 1.1em;
      font-weight: 600;
      margin-left: 0.5em;
      color: var(--primary-blue);
    }
  </style>
</head>
<body>
  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid position-relative d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0">
        <img src="assets/img/avalon-d-solutions.png" alt=""> 
      </a>
      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html#hero">Home</a></li>
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#services">Services</a></li>
          <li><a href="index.html#portfolio">Portfolio</a></li>
          <li><a href="index.html#pricing">Pricing</a></li>
          <li><a href="index.html#team">Team</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="index.html#contact">Contact</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
      <a class="btn-getstarted" href="index.html#about">Get Started</a>
    </div>
  </header>
  <main class="main">
    <div class="page-title" data-aos="fade">
      <div class="heading">
        <div class="container">
          <div class="row d-flex justify-content-center text-center">
            <div class="col-lg-8">
              <h1>Plan Payment</h1>
              <p class="mb-0">Complete your payment and get started with your selected plan.</p>
            </div>
          </div>
        </div>
      </div>
      <nav class="breadcrumbs">
        <div class="container">
          <ol>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#pricing">Pricing</a></li>
            <li class="current">Plan Payment</li>
          </ol>
        </div>
      </nav>
    </div>
    <div class="container">
      <a href="index.html#pricing" class="btn btn-secondary btn-back"><i class="bi bi-arrow-left"></i> Back to Pricing</a>
      <section class="payment-section" data-aos="fade-up">
        <h2 class="mb-4">Your Plan</h2>
        <div class="mb-3">
          <span id="planName" class="plan-badge"></span>
          <span id="planPrice" class="plan-badge"></span>
        </div>
        <form id="userDetailsForm">
          <div class="mb-3">
            <label for="fullName" class="form-label">Full Name</label>
            <input type="text" class="form-control" id="fullName" required>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" required>
          </div>
          <div class="mb-3">
            <label for="company" class="form-label">Company (optional)</label>
            <input type="text" class="form-control" id="company">
          </div>
          <button type="submit" class="btn btn-primary">Continue to Payment</button>
        </form>
        <div class="paypal-btn-container" id="paypal-button-container" style="display:none;"></div>
        <div id="payment-success" style="display:none;">
          <div class="alert alert-success">Payment successful! Thank you for your purchase.</div>
        </div>
      </section>
    </div>
  </main>
  <footer id="footer" class="footer position-relative light-background">
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-5 col-md-12 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <img src="assets/img/avalon-d-solutions.png" alt=""> 
          </a>
          <p>Empowering your career and business journey.</p>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
        <div class="col-lg-2 col-6 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">Services</a></li>
            <li><a href="#">Terms of service</a></li>
            <li><a href="#">Privacy policy</a></li>
          </ul>
        </div>
        <div class="col-lg-2 col-6 footer-links">
          <h4>Our Services</h4>
          <ul>
           <li><a href="#">Employment Advisory Services</a></li>
            <li><a href="#">CV Support</a></li>
            <li><a href="#">Career Development Services</a></li>
            <li><a href="#">Business Advisory</a></li>
            <li><a href="#">Business Legal Advice</a></li>
            <li><a href="#">IT Support</a></li> 
          </ul>
        </div>
        <div class="col-lg-3 col-md-12 footer-contact text-center text-md-start">
          <h4>Contact Us</h4>
          <p>44 Broadway Gardens,</p>
          <p>Mitcham</p>
          <p class="mt-4"><strong>Phone:</strong> <span>+44 73 771 106 03</span></p>
          <p><strong>Email:</strong> <span>info@avalondsolutions.com</span></p>
        </div>
      </div>
    </div>
    <div class="container copyright text-center mt-4">
      <p>&copy; <span>2025</span> <span class="sitename">AvalonDSolutions</span>. All Rights Reserved</p>
    </div>
  </footer>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/js/main.js"></script>
  <script src="https://www.paypal.com/sdk/js?client-id=AchHlkNjrRDUKSA_kD1uZO1kaVcwMW-ptPM5TeqE3t-KbRl-c6xHsi8UUCoel2Bbn2K-jx5dby3rfeS0&currency=USD"></script>
  <script>
    // Animate on scroll
    AOS.init();
    // Plan and price mapping
    const planMap = {
      free: { name: 'Free Plan', price: 0, currency: 'USD' },
      business: { name: 'Business Plan', price: 29, currency: 'USD' },
      developer: { name: 'Developer Plan', price: 49, currency: 'USD' }
    };
    // Get plan from URL
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }
    const planKey = getQueryParam('plan') || 'free';
    const plan = planMap[planKey] || planMap['free'];
    document.getElementById('planName').textContent = plan.name;
    document.getElementById('planPrice').textContent = plan.price === 0 ? 'Free' : `$${plan.price} ${plan.currency}`;
    // Show/hide payment form
    document.getElementById('userDetailsForm').addEventListener('submit', function(e) {
      e.preventDefault();
      document.getElementById('userDetailsForm').style.display = 'none';
      document.getElementById('paypal-button-container').style.display = plan.price > 0 ? 'block' : 'none';
      if (plan.price === 0) {
        document.getElementById('payment-success').style.display = 'block';
        saveUserDetails('Free');
      } else {
        renderPayPal();
      }
    });
    // Save user details and payment info (localStorage for demo)
    function saveUserDetails(paymentId) {
      const details = {
        name: document.getElementById('fullName').value,
        email: document.getElementById('email').value,
        company: document.getElementById('company').value,
        plan: plan.name,
        price: plan.price,
        paymentId: paymentId,
        date: new Date().toISOString()
      };
      localStorage.setItem('pricingPayment', JSON.stringify(details));
      // Send to backend for storage and email
      fetch('store-payment.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: new URLSearchParams(details)
      })
      .then(res => res.json())
      .then(data => {
        if (data.status === 'success') {
          document.getElementById('payment-success').innerHTML = '<div class="alert alert-success">Payment successful! Confirmation email sent.</div>';
        } else {
          document.getElementById('payment-success').innerHTML = '<div class="alert alert-warning">Payment saved, but email failed: ' + data.message + '</div>';
        }
      })
      .catch(() => {
        document.getElementById('payment-success').innerHTML = '<div class="alert alert-danger">Payment saved, but could not contact server for confirmation email.</div>';
      });
    }
    // PayPal integration
    function renderPayPal() {
      paypal.Buttons({
        createOrder: function(data, actions) {
          return actions.order.create({
            purchase_units: [{
              amount: { value: plan.price.toString(), currency_code: plan.currency }
            }]
          });
        },
        onApprove: function(data, actions) {
          return actions.order.capture().then(function(details) {
            document.getElementById('payment-success').style.display = 'block';
            document.getElementById('paypal-button-container').style.display = 'none';
            saveUserDetails(details.id);
          });
        }
      }).render('#paypal-button-container');
    }
  </script>
</body>
</html> 